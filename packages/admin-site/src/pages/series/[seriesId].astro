---
import CardList from '@/components/CardList.astro'
import Page from '@/layouts/Page.astro'
import { getSeriesAndDesignsBySeriesId } from '@lil-indigestion-cards/core/card'
import H1 from '@/components/H1.astro'

const id = Astro.params.seriesId

if (!id) {
	throw new Error('No series id provided')
}

const {
	cardSeries: [series],
	cardDesigns,
} = await getSeriesAndDesignsBySeriesId(id)
---

<Page title="Series" class="grid gap-4 text-center justify-center">
	<H1>{series!.seriesName}</H1>
	<p class="text-lg">Description: {series!.seriesDescription}</p>
	<h2 class="text-xl pt-4">Cards:</h2>
	<CardList cards={cardDesigns} />
</Page>
