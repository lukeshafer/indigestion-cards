---
import CardList from '@/components/CardList.astro'
import Page from '@/layouts/Page.astro'
import { getSeriesAndDesignsBySeriesId } from '@lil-indigestion-cards/core/card'

const id = Astro.params.seriesId

if (!id) {
	throw new Error('No series id provided')
}

const {
	cardSeries: [series],
	cardDesigns,
} = await getSeriesAndDesignsBySeriesId(id)
---

<Page title="Series">
	<h1>{series!.seriesName}</h1>
	<p>{series!.seriesDescription}</p>
	<CardList cards={cardDesigns} />
</Page>
