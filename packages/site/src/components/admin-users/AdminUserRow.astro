---
import { api } from '@/constants';
import SortTableRow from '@/components/table/SortTableRow.astro';
import SortTableCell from '@/components/table/SortTableCell.astro';
import DeleteAdminUserButton from '@/components/admin-users/DeleteAdminUserButton';

interface Props {
	username: string;
	userId: string;
	isStreamer: boolean;
}

const { username, userId, isStreamer } = Astro.props;

const isCurrentUser =
	Astro.locals.session?.type === 'admin' && Astro.locals.session?.properties.userId === userId;
---

<SortTableRow>
	<SortTableCell align="left" font="title">{username}</SortTableCell>
	<SortTableCell>
		{
			isCurrentUser ? null : (
				<DeleteAdminUserButton {userId} {username} {isStreamer} client:load />
			)
		}
	</SortTableCell>
</SortTableRow>
