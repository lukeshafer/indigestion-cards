---
import { getLoginLink } from '@/lib/utils';
import { Icon } from 'astro-icon';
const session = Astro.locals.session;

const isAdmin = session?.type === 'admin';
---

<a
	class="text-shadow-brand font-bold px-4 py-2 uppercase mt-5 flex w-fit items-center bg-[#9146ff] text-white gap-2"
	href={getLoginLink({ isStreamer: isAdmin, url: Astro.url })}>
	<Icon name="mdi:twitch" width="50" />
	<span>
		{session?.type === 'admin' ? 'Authorize Streamer Permissions' : 'Login with Twitch'}
	</span>
</a>
