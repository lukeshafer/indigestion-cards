---
interface Props {
	/** ID of the table to search. Must be to a <table> element. */
	tableId: string;
	/** Label for the input. */
	label: string;
	/** ID for the input. */
	id: string;
	/** Action for internal form. Used if providing backup for no-JS environments. */
	action?: string | undefined;
	/** Method for internal form. Defaults to `get`. */
	method?: string | undefined;
	/** Column heading. Defaults to first column if no value provided. */
	searchColumn?: string | undefined;
}

const { method = 'get', action, tableId, label, id: inputId, searchColumn = '' } = Astro.props;
---

<table-search data-table-id={tableId} data-search-column={searchColumn}>
	<my-form>
		<form method={method} action={action}>
			<label for={inputId} class="visually-hidden">{label}</label>
			<input
				name="search"
				id={inputId}
				data-table-search
				type="text"
				placeholder={label}
				required
			/>
		</form>
	</my-form>
</table-search>

