---
import { routes } from '@/constants';
import Card, { type CardProps } from './Card.astro';

interface Props {
	cards: CardProps[];
}
const { cards } = Astro.props;

const Element = Astro.locals.session?.type === 'admin' ? 'a' : 'div';
---

<ul class="grid w-full justify-center justify-items-center gap-x-4 gap-y-10 px-3">
	{
		cards.length > 0 ? (
			cards.map((card) => (
				<Element
					rel="prefetch"
					href={`${routes.INSTANCES}/${card.designId}/${card.instanceId ?? ''}`}>
					<Card {...card} />
				</Element>
			))
		) : (
			<p>No cards found</p>
		)
	}
</ul>

<style>
	ul {
		grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
	}
</style>
