---
interface Props {
	type: 'error' | 'success' | ({} & string);
}

const { type } = Astro.props;

const alertStyles =
	type === 'error'
		? 'bg-red-200 text-red-950'
		: type === 'success'
		? 'bg-teal-200 text-teal-950'
		: 'bg-gray-200 text-gray-950';
---

<div hx-swap-oob="beforeend:#alert-wrapper">
	<div
		class="view-transition-alert flex items-center justify-between p-4"
		@delete-alert="$el.remove()"
		class:list={{ [alertStyles]: true }}>
		<p><slot /></p>
		<button @click="$dispatch('delete-alert')" class="text-xl">x</button>
	</div>
</div>
