---
import Page from '@/layouts/Page.astro'
import { useUser } from '@/session'
import AdminUserForm from '@/components/entity-forms/AdminUserForm.astro'
import { api, routes } from '@/constants'

const user = useUser(Astro.cookies)
if (user?.type !== 'user') return Astro.redirect('/404')
---

<Page title="Add admin user" class="max-w-xl" session={user}>
	<h1 class="page-heading">Add admin user</h1>
	<AdminUserForm action={`${api.CREATE_ADMIN_USER}?redirect=${routes.ADMIN.CREATE.ADMIN}`} />
</Page>
