---
import { authApi } from '@/constants';
import Page from '@/layouts/Page.astro';
import { useAdmin } from '@/session';
import { Icon } from 'astro-icon';

const admin = useAdmin(Astro.cookies);
---

<Page title="index" session={admin} breadcrumbs={[{ label: 'Home', href: '/' }]} pageType="public">
	<a href="/user" class="button-link">Users</a>
	<a
		class="post-button twitch-login"
		href={authApi.LOGIN + (admin?.type === 'admin' ? '?streamer=true' : '')}>
		<Icon name="mdi:twitch" width="50" />
		<span>
			{admin?.type === 'admin' ? 'Authorize Streamer Permissions' : 'Login with Twitch'}
		</span>
	</a>
	<!-- TODO: Add FAQ -->
</Page>

<style>
	.twitch-login {
		margin-top: 20px;
		display: flex;
		width: max-content;
		align-items: center;
		background-color: #9146ff;
		color: white;
	}
</style>
